---
export interface Props {
    level: number;
    id?: string;
}

const { level, id, ...props } = Astro.props;
const Tag = `h${level}` as any;

// Define styles for each heading level
const headingStyles = {
    1: "text-4xl md:text-5xl font-bold text-theme-heading-primary mt-12 mb-6 border-b-2 border-theme-primary pb-4",
    2: "text-3xl md:text-4xl font-semibold text-theme-heading-primary mt-10 mb-5 border-b border-theme-primary pb-3",
    3: "text-2xl md:text-3xl font-semibold text-theme-heading-secondary mt-8 mb-4",
    4: "text-xl md:text-2xl font-medium text-theme-heading-secondary mt-6 mb-3",
    5: "text-lg md:text-xl font-medium text-theme-heading-secondary mt-5 mb-2",
    6: "text-base md:text-lg font-medium text-theme-heading-secondary mt-4 mb-2",
};

const headingClass =
    headingStyles[level as keyof typeof headingStyles] || headingStyles[6];
---

<Tag id={id} class={`scroll-mt-20 group ${headingClass}`} {...props}>
    <span class="flex items-center gap-3">
        <slot />
        {
            id && (
                <a
                    href={`#${id}`}
                    class="opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-orange-500 hover:text-orange-600 no-underline text-xl"
                    aria-label={`Link to ${id} section`}
                    title="Copy link to this section"
                >
                    <svg
                        class="w-5 h-5"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"
                        />
                    </svg>
                </a>
            )
        }
    </span>
</Tag>
